# ── StockSim Demo Config ───────────────────────────────────────────────
# ❶ Change ONE flag to flip execution logic
exchange_mode: "candle"          # ← swap to "orderbook" for micro-structure mode

# ❷ Point at any asset (or five) with zero code edits
instruments:
  - XOM                         # add more symbols here, e.g. BTCUSDT, AAPL …

# ❸ Per-asset data & indicator knobs
exchanges:
  XOM:
    data_source: "polygon"       # "alpha_vantage" works too
    symbol_type: "stock"         # "crypto" if you swap in BTC/ETH
    candle_interval: "1d"        # 1m · 15m · 1h · 1d …
    spread_factor: 0.001
    warmup_candles: 200
    indicator_kwargs:
      sma_periods: [ 20, 50, 100, 200 ]
      rsi_period: 14
      ema_periods: [ 12, 26 ]
    news:
      tickers: ["XOM"]
      max_results: 50

# ❹ Agents: one LLM + one classical baseline
agents:
  Claude_Sonnet_Trader:
    type: LLMTradingAgent
    count: 1
    parameters:
      initial_cash: 100000
      action_interval: "1d"
      #
      # —— Plug-and-play analyst models ——                            ▼ swap IDs!
      models:
        market_analysis:
          model_id:  "meta.llama3-1-405b-instruct-v1:0"
          model_type: "llama"
          temperature: 0.0
          max_gen_len: 2000
        news:
          model_id:  "us.anthropic.claude-sonnet-4-20250514-v1:0"
          model_type: "anthropic"
          use_web_search: true
          use_thinking: false
        fundamental_analysis:
          model_id:  "us.deepseek.r1-v1:0"
          model_type: "deepseek"
          temperature: 0.0
        aggregator:
          model_id:  "us.anthropic.claude-sonnet-4-20250514-v1:0"
          model_type: "anthropic"
          use_thinking: true
          max_tokens: 20000
          budget_tokens: 16000
      #
      enable_market_analyst:       true
      enable_news_analyst:         true
      enable_fundamental_analyst:  true
      #
      # Extra look-back windows
      extended_intervals:
        - { days: 730, label: "Macro",      resolution: "1mo" }
        - { days: 180, label: "Mid-Term",   resolution: "1w"  }
        - { days:  90, label: "Short-Term", resolution: "1d"  }
      #
      initial_positions: { XOM: 0 }
      initial_cost_basis: { XOM: 140.0 }

  BuyHold_Baseline:
    type: Buy_And_Hold_Trader
    count: 1
    parameters:
      initial_cash: 100000
      action_interval: "1d"
      quantity_size: 400
      initial_positions: { XOM: 0 }
      initial_cost_basis: { XOM: 140.0 }

# ❺ Global run window (edit freely)
simulation:
  start_time: "2025-04-28T13:00:00"
  end_time:   "2025-06-28T13:00:00"
  tick_interval: "1d"
  expected_exchange_agent_count: 1
# ───────────────────────────────────────────────────────────────────────